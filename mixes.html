<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PIXELFILTER | Mixes</title>
  <link rel="icon" type="image/webp" href="assets/images/Favicon.webp">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/components/header.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    #mixes-container h2 {
      font-size: 3em;
      text-transform: uppercase;
      margin-top: 2em;
      margin-bottom: 1em;
      letter-spacing: 0.05em;
    }
    .mixes-grid h2 {
      grid-column: 1 / -1;
      margin-left: 2%;
    }
    .mixes-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      column-gap: 0.5em;
      row-gap: 2em;
    }
    @media (max-width: 900px) {
      .mixes-grid {
        grid-template-columns: 1fr;
      }
    }
    .mixes-section {
      max-width: 900px;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <header class="pf-header">
    <div class="container">
      <div class="pf-header__logo">
        <a href="/"><img src="assets/images/PixelFilter_Logo.webp" alt="PixelFilter Logo" height="40"></a>
      </div>
      <nav class="pf-header__nav">
        <a href="videos.html">Videos</a>
        <a href="mixes.html" class="active">Mixes</a>
        <a href="photos.html">Photos</a>
        <a href="shows.html">Shows</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>
  <div class="container">
    <main style="margin-top:10rem;">
      <div id="mixes-container"></div>
    </main>
  </div>
  <footer id="site-footer"></footer>
  <script>
    fetch('data/mixes.json')
      .then(res => res.json())
      .then(mixes => {
        // Group mixes by genre
        const grouped = {};
        mixes.forEach(mix => {
          if (!grouped[mix.Genre]) grouped[mix.Genre] = [];
          grouped[mix.Genre].push(mix.SoundCloudURL);
        });

        const container = document.getElementById('mixes-container');
        Object.keys(grouped).forEach(genre => {
          const genreSection = document.createElement('section');
          const grid = document.createElement('div');
          grid.className = 'mixes-grid';
          const h2 = document.createElement('h2');
          h2.textContent = genre;
          grid.appendChild(h2);
          grouped[genre].forEach(url => {
            const embed = document.createElement('iframe');
            embed.width = "90%";
            embed.height = "400";
            embed.allow = "autoplay";
            embed.frameBorder = "no";
            embed.scrolling = "no";
            embed.style = "margin-bottom:2em; box-shadow:0 2px 16px rgba(0,0,0,0.12); display:block; margin-left:auto; margin-right:auto;";
            embed.src = `https://w.soundcloud.com/player/?url=${encodeURIComponent(url)}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=true`;
            grid.appendChild(embed);
          });
          genreSection.appendChild(grid);
          container.appendChild(genreSection);
        });
      });
  </script>
</body>
</html>
<script src="js/header-scroll.js"></script>
<script src="js/footer.js"></script>